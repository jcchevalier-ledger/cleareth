package cleareth.model

import cleareth.decoding.EvmDecoder
import cleareth.encoding.EvmEncoder

/** Retrieved from <a href="https://solidity-fr.readthedocs.io/fr/latest/abi-spec.html#use-of-dynamic-types">solidity</a>
  */
final case class EvmCase2(array1: List[List[Int]], array2: List[String]) derives EvmEncoder, EvmDecoder

object EvmCase2:
  val words: List[String] = List(
    "0000000000000000000000000000000000000000000000000000000000000040", // offset of[[1, 2], [3]]
    "0000000000000000000000000000000000000000000000000000000000000140", // offset of["one", "two", "three"]

    "0000000000000000000000000000000000000000000000000000000000000002", // count for [[1, 2], [3]]
    "0000000000000000000000000000000000000000000000000000000000000040", // offset of[1, 2]
    "00000000000000000000000000000000000000000000000000000000000000a0", // offset of[3]

    "0000000000000000000000000000000000000000000000000000000000000002", // count for [1, 2]
    "0000000000000000000000000000000000000000000000000000000000000001", // encoding of 1
    "0000000000000000000000000000000000000000000000000000000000000002", // encoding of 2
    "0000000000000000000000000000000000000000000000000000000000000001", // count for [3]
    "0000000000000000000000000000000000000000000000000000000000000003", // encoding of 3
    "0000000000000000000000000000000000000000000000000000000000000003", // count for ["one", "two", "three"]
    "0000000000000000000000000000000000000000000000000000000000000060", // offset for "one"
    "00000000000000000000000000000000000000000000000000000000000000a0", // offset for "two"
    "00000000000000000000000000000000000000000000000000000000000000e0", // offset for "three"
    "0000000000000000000000000000000000000000000000000000000000000003", // count for "one"
    "6f6e650000000000000000000000000000000000000000000000000000000000", // encoding of "one"
    "0000000000000000000000000000000000000000000000000000000000000003", // count for "two"
    "74776f0000000000000000000000000000000000000000000000000000000000", // encoding of "two"
    "0000000000000000000000000000000000000000000000000000000000000005", // count for "three"
    "7468726565000000000000000000000000000000000000000000000000000000"  // encoding of "three"
  )

  val testCase: EvmCase2 = EvmCase2(List(List(1, 2), List(3)), List("one", "two", "three"))
